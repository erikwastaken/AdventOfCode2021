#include "catch.hpp"
#include "day20.hpp"


SCENARIO("Day 20: Trench Map", "[day20]") {
    GIVEN("test input") {
        std::vector<std::string> input = {
            "..#.#..#####.#.#.#.###.##.....###.##.#..###.####..#####..#....#..#..##..###..######.###...####..#..#####..##..#.#####...##.#.#..#.##..#.#......#.###.######.###.####...#.##.##..#..#..#####.....#.#....###..#.##......#.....#..#..#..##..#...##.######.####.####.#.#...#.......#..#.#.#...####.##.#......#..#...##.#.##..#...##.#.##..###.#......#.#.......#.#.#.####.###.##...#.....####.#..#..#.##.#....##..#.####....##...##..#...#......#.#.......#.......##..####..#...#.#.#...##..#.#..###..#####........#..####......#..#",
            "",
            "#..#.",
            "#....",
            "##..#",
            "..#..",
            "..###"
        };
        auto cut = aoc21::Day20(input);
        WHEN("Part 1 - enhancing twice") {
            THEN("35 pixels are lit") {
                REQUIRE(cut.part1() == "35");
            }
        }
        WHEN("Part 2 - enhancing 50 times") {
            THEN("3351 pixels are lit") {
                REQUIRE(cut.part2() == "3351");
            }
        }
    }
}
